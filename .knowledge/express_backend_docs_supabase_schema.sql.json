{"is_source_file": true, "format": "SQL", "description": "This file contains the complete database schema for a music streaming platform, including table definitions, indexes, functions, triggers, views, and security policies.", "external_files": [], "external_methods": ["pgcrypto extension functions", "set_updated_at() trigger function", "update_daily_stats_on_history_insert() trigger function"], "published": ["profiles", "artists", "albums", "tracks", "playlists", "playlist_items", "favorites", "listening_history", "daily_listening_stats", "recently_listened", "most_listened_tracks"], "classes": [], "methods": [{"name": "set_updated_at", "description": "Automatically updates the 'updated_at' timestamp on a row before it's updated."}, {"name": "update_daily_stats_on_history_insert", "description": "Aggregates listening data to update daily statistics whenever new listening history is inserted."}], "calls": ["CREATE EXTENSION IF NOT EXISTS pgcrypto", "set_updated_at()", "update_daily_stats_on_history_insert()"], "search-terms": ["supabase schema", "listening history trigger", "daily listening stats", "playlists policies", "tracks table schema", "views for recent activity", "RLS policies"], "state": 2, "file_id": 13, "knowledge_revision": 77, "git_revision": "fed757a249e0aca150247a2256948f17cf294f48", "revision_history": [{"27": "7d04053a9cfc692a46c1ddad8d50e9b7bc568907"}, {"77": "fed757a249e0aca150247a2256948f17cf294f48"}], "hash": "6db5606fb855e42b7708a1a597800026", "format-version": 4, "code-base-name": "express_backend", "filename": "express_backend/docs/supabase_schema.sql"}